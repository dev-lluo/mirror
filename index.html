<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mirro</title>
    <script src="mirror.base.js"></script>
    <script>
        var helper = mirror.using("mirror.mock");
        var mockObject = helper.mock({name:"x",age:23,friends:["lz","xh","zy"]});
        helper.watch(mockObject,"set","before",function (event) {
            if(event.value!="xhh") return false;
        },"name");
        helper.watch(mockObject,"set","before",function (event) {
            console.log(event);
        });
        helper.watch(mockObject,"get","before",function (event) {
            console.log(event);
        });
        helper.watch(mockObject,"set","before",function (event) {
            mirror.assertTrue(mirror.isOne(event.value,"Number"));
        },"age");
        helper.unwatch(mockObject,"set","before",function (event) {
            if(event.value!="xhh") return false;
        },"name");
        var mockArray = helper.mock(mockObject.friends);
        helper.watch(mockArray,"add","before",function(event){
           console.log(event);
        });
        helper.watch(mockArray,"del","before",function(event){
            console.log(event);
        });
        helper.watch(mockArray,"set","before",function(event){
            if(event.oldValue==="lz")return false;
        });
        helper.watch(mockArray,"get","before",function(event){
            console.log(event);
        });
        helper.watch(mockArray,"srt","before",function(event){
            console.log(event);
        });
    </script>
</head>
<body>

</body>
</html>